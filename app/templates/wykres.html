{% extends "base.html" %}

{% block content %}
    <!-- [TODO] Debugging line, remove in prod -->
    <h1>Debugging : {{ chart_id }}, {{ chart_data }},{{ initial_timespan }} {{ timespan_data }}</h1> 
    
    <!-- Wyświetlanie wykresów -->
    <script src="{{ url_for('static', filename='js/plotly.min.js') }}"></script>
    <div id="tester1"></div>
    <div id="tester2"></div>
    <div id="tester3"></div>
    <div id="timespan-table" style="margin-left: 20px;"></div>
    <script src="{{ url_for('static', filename='js/testing.js') }}"></script>

    <!-- Displayng table  -->
    <div id="chart-container" style="display: flex;">
        <div id="charts" style="flex: 3;">
            <div id="tester1"></div>
            <div id="tester2"></div>
            <div id="tester3"></div>
        </div>
        <div id="timespan-table-container" style="flex: 1; padding-left: 10px;">
            <table id="timespan-table" border="1" style="width: 100%;">
                <thead>
                    <tr>
                        <th>Start Time</th>
                        <th>End Time</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Timespans will be dynamically loaded here -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- [TODO] Old and redundant Displaying chart and votes -->
    <form method="GET">
        <input type="hidden" name="chart_id" value="{{ chart_id }}">
        <!-- [TODO] Disabled the code for voting in /wykres route, so disabled the buttons until it's relocated. 
        <button type="submit" value="0" name="vote">Głos -</button>
        <button type="submit" value="1" name="vote">Głos +</button>
        -->
    </form>

    <a href="{{ url_for('wykres', chart_id=chart_id-1) }}" class="button">Poprzedni</a>
    <a href="{{ url_for('wykres', chart_id=chart_id+1) }}" class="button">Następny</a>

{% endblock %}