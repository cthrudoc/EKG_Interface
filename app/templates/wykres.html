{% extends "base.html" %}

{% block content %}
    <!-- [TODO] Debugging line, remove in prod -->
    <!--<h1>Debugging : {{ chart_id }},{{ initial_timespan }} {{ timespan_data }}</h1> -->
    
    <!-- Wyświetlanie wykresów -->
    <script src="{{ url_for('static', filename='js/plotly.min.js') }}"></script>
    <div id="tester1"></div>
    <div id="tester2"></div>
    <div id="tester3"></div>
    <div id="timespan-table" style="margin-left: 20px;"></div>
    <script src="{{ url_for('static', filename='js/testing.js') }}"></script>

    <!-- Displayng table  -->
    <div id="chart-container" style="display: flex;">
        <div id="charts" style="flex: 3;">
            <div id="tester1"></div>
            <div id="tester2"></div>
            <div id="tester3"></div>
        </div>
        <div id="timespan-table-container" style="flex: 1; padding-left: 10px;">
            <table id="timespanTable" border="1" style="width: 100%;">
                <thead>
                    <tr>
                        <th>Start Time</th>
                        <th>End Time</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Timespans will be dynamically loaded here -->
                </tbody>
            </table>
        </div>
    </div>

    <div class="pagination">
        {% if prev_chart_id %}
            <a href="{{ url_for('wykres', chart_id=prev_chart_id) }}" class="button">Poprzedni</a>
        {% else %}
            <span class="button disabled">Poprzedni</span>
        {% endif %}
        
        {% if next_chart_id %}
            <a href="{{ url_for('wykres', chart_id=next_chart_id) }}" class="button">Następny</a>
        {% else %}
            <span class="button disabled">Następny</span>
        {% endif %}
    </div>

{% endblock %}